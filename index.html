<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Qidirish kerakli sayt — Always-On Dashboard (HTML)</title>
  <meta name="description" content="Always-On Dashboard — shaxsiy tezkor eslatmalar, todo, bookmarks, planner va pomodoro. Mahalliy saqlash bilan ishlaydi; export/import funksiyasi mavjud." />
  <link rel="canonical" href="https://zafarbekxolmatov3-code.github.io/asadullo/" />
  <meta name="robots" content="index, follow" />
  <meta property="og:title" content="Qidirish kerakli sayt — Always-On Dashboard" />
  <meta property="og:description" content="Shaxsiy dashboard: notes, todos, bookmarks, planner va pomodoro. Mahalliy saqlash va tez import/export." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://zafarbekxolmatov3-code.github.io/asadullo/" />
  <meta property="og:image" content="https://zafarbekxolmatov3-code.github.io/asadullo/preview.png" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "https://zafarbekxolmatov3-code.github.io/asadullo/",
    "name": "Qidirish kerakli sayt — Always-On Dashboard",
    "description": "Shaxsiy tezkor dashboard: notes, todos, bookmarks, planner va pomodoro. Mahalliy saqlash bilan ishlaydi."
  }
  </script>
  <style>
    :root{
      --bg:#f4f6f8; --card:#fff; --muted:#6b7280; --accent:#4f46e5; --border:#e6e9ee;
    }
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
    body{margin:0;background:var(--bg);color:#0f172a;padding:18px}
    .wrap{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr 2fr 1fr;gap:18px}
    header{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    h1{font-size:20px;margin:0}
    .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:0 1px 4px rgba(15,23,42,0.04)}
    .btn{background:transparent;border:1px solid var(--border);padding:6px 10px;border-radius:8px;cursor:pointer}
    input,textarea,select{width:100%;padding:8px;border:1px solid var(--border);border-radius:8px;background:transparent}
    .list{list-style:none;padding:0;margin:0}
    .list li{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;border:1px solid transparent}
    .muted{color:var(--muted);font-size:13px}
    .small{font-size:13px}
    .flex{display:flex;gap:8px;align-items:center}
    .grow{flex:1}
    .danger{color:#b91c1c}
    @media (max-width:900px){ .wrap{grid-template-columns:1fr; } header{flex-direction:column;align-items:flex-start;gap:8px} }
  </style>
</head>
<body>
  <header>
    <h1>Always-On Dashboard (HTML)</h1>
    <div class="flex">
      <button id="exportBtn" class="btn">Export JSON</button>
      <label class="btn" style="cursor:pointer">
        Import JSON
        <input id="importFile" type="file" accept="application/json" style="display:none">
      </label>
      <button id="clearAll" class="btn">Clear all</button>
    </div>
  </header>

  <div class="wrap">
    <!-- left column -->
    <div>
      <div class="card">
        <h3 style="margin:0 0 8px 0">Quick add</h3>
        <div class="small muted">Todo</div>
        <div class="flex" style="margin:8px 0">
          <input id="quickTodo" placeholder="Yangi vazifa">
          <button class="btn" onclick="addTodoFromQuick()">Add</button>
        </div>

        <div class="small muted">Bookmark</div>
        <input id="quickBmTitle" placeholder="Sarlavha (ixtiyoriy)" style="margin-top:6px">
        <div class="flex" style="margin-top:6px">
          <input id="quickBmUrl" placeholder="https://example.com" class="grow">
          <button class="btn" onclick="addBookmarkFromQuick()">Save</button>
        </div>

        <div style="margin-top:10px" class="muted small">Stats: <span id="statText">—</span></div>
      </div>

      <div class="card" style="margin-top:12px">
        <h3 style="margin:0 0 8px 0">Bookmarks</h3>
        <ul id="bmList" class="list" style="max-height:280px;overflow:auto"></ul>
      </div>

      <div class="card" style="margin-top:12px">
        <h3 style="margin:0 0 8px 0">Translator (stub)</h3>
        <textarea id="trIn" rows="3" placeholder="Matn kiriting..."></textarea>
        <div class="flex" style="margin-top:8px">
          <button class="btn" onclick="translateStub()">Translate</button>
          <button class="btn" onclick="document.getElementById('trIn').value='';document.getElementById('trOut').textContent='';">Clear</button>
        </div>
        <div id="trOut" style="margin-top:8px;min-height:36px" class="muted small">Tarjima natijasi shu yerda chiqadi.</div>
      </div>
    </div>

    <!-- middle column -->
    <main>
      <div class="card" style="margin-bottom:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h3 style="margin:0">Notes</h3>
          <div class="flex">
            <button class="btn" onclick="newNote()">Yangi</button>
            <input id="searchNotes" placeholder="Search notes/todos" style="margin-left:8px">
          </div>
        </div>

        <div style="display:grid;grid-template-columns:260px 1fr;gap:10px;margin-top:12px">
          <div style="border-right:1px solid var(--border);padding-right:8px">
            <ul id="notesList" class="list" style="max-height:56vh;overflow:auto"></ul>
          </div>
          <div>
            <input id="noteTitle" placeholder="Sarlavha" style="margin-bottom:8px">
            <textarea id="noteContent" rows="12" placeholder="Eslatma..."></textarea>
            <div class="flex" style="margin-top:8px;justify-content:flex-end">
              <button class="btn" onclick="saveSelectedNote()">Save</button>
              <button class="btn danger" style="border-color:transparent" onclick="deleteSelectedNote()">Delete</button>
            </div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-bottom:12px">
        <h3 style="margin:0 0 8px 0">To-Do</h3>
        <div style="display:flex;gap:8px;margin-bottom:8px">
          <input id="todoInput" placeholder="Yangi vazifa" class="grow">
          <button class="btn" onclick="addTodoFromInput()">Add</button>
        </div>
        <ul id="todoList" class="list" style="max-height:22vh;overflow:auto"></ul>
      </div>

      <div class="card">
        <h3 style="margin:0 0 8px 0">Planner</h3>
        <div style="display:flex;gap:8px;margin-bottom:8px">
          <input id="planDate" type="date" style="width:160px">
          <input id="planText" placeholder="Nimani rejalashtiryapsiz" class="grow">
          <button class="btn" onclick="addPlan()">Add</button>
        </div>
        <ul id="planList" class="list" style="max-height:18vh;overflow:auto"></ul>
      </div>
    </main>

    <!-- right column -->
    <div>
      <div class="card" style="margin-bottom:12px">
        <h3 style="margin:0 0 8px 0">Pomodoro</h3>
        <div style="display:flex;align-items:center;gap:12px">
          <div id="pomTime" style="font-family:monospace;font-size:28px">25:00</div>
          <div style="display:flex;flex-direction:column;gap:6px">
            <div class="flex">
              <button class="btn" onclick="pomStart()">Start</button>
              <button class="btn" onclick="pomPause()">Pause</button>
              <button class="btn" onclick="pomReset()">Reset</button>
            </div>
            <div class="muted small">Mode: <span id="pomMode">work</span></div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3 style="margin:0 0 8px 0">Today</h3>
        <div class="small muted">Active tasks: <span id="todayTasks">0</span></div>
        <div style="margin-top:8px">
          <h4 style="margin:0 0 6px 0">Import/Export quick</h4>
          <div class="small muted">Export JSON/Import above. Saqlash brauzer localStorage’da.</div>
        </div>
      </div>
    </div>
  </div>

<script>
const KEY = { notes: 'aod_notes', todos: 'aod_todos', bms: 'aod_bms', plans: 'aod_plans', pom: 'aod_pom' };
const $ = id => document.getElementById(id);
const readJSON = (k, def) => { try { return JSON.parse(localStorage.getItem(k)) || def; } catch(e){ return def; } };
const writeJSON = (k, v) => localStorage.setItem(k, JSON.stringify(v));

let notes = readJSON(KEY.notes, []);
let todos = readJSON(KEY.todos, []);
let bms = readJSON(KEY.bms, []);
let plans = readJSON(KEY.plans, []);
let pom = readJSON(KEY.pom, { mode:'work', running:false, remaining:25*60 });

function renderStats(){
  $('statText').textContent = `Bookmarks: ${bms.length} • Notes: ${notes.length} • Tasks: ${todos.length}`;
  $('todayTasks').textContent = todos.filter(t=>!t.done).length;
}
function renderBMs(){
  const ul = $('bmList'); ul.innerHTML = '';
  if(bms.length===0) ul.innerHTML = '<li class="muted small">Hech nima saqlanmagan</li>';
  bms.forEach(b => {
    const li = document.createElement('li');
    li.innerHTML = `<div style="overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:160px"><a href="${escapeHtml(b.url)}" target="_blank">${escapeHtml(b.title||b.url)}</a></div>
                    <div class="flex"><button class="btn" onclick="openBm('${b.id}')">Open</button><button class="btn" onclick="delBm('${b.id}')">Del</button></div>`;
    ul.appendChild(li);
  });
}
function renderNotes(){
  const ul = $('notesList'); ul.innerHTML = '';
  if(notes.length===0) ul.innerHTML = '<li class="muted small">Eslatmangiz yo‘q</li>';
  notes.forEach(n=>{
    const li = document.createElement('li');
    li.id = 'note-'+n.id;
    li.style.cursor='pointer';
    li.onclick = ()=>selectNote(n.id);
    li.innerHTML = `<div style="font-weight:600">${escapeHtml(n.title||'Без заголовка')}</div><div class="muted small">${new Date(n.updated||n.id).toLocaleString()}</div>`;
    ul.appendChild(li);
  });
}
function renderTodos(){
  const ul = $('todoList'); ul.innerHTML = '';
  if(todos.length===0) ul.innerHTML = '<li class="muted small">Vazifangiz yo‘q</li>';
  todos.forEach(t=>{
    const li = document.createElement('li');
    li.innerHTML = `<div class="flex" style="align-items:center;gap:8px"><input type="checkbox" ${t.done? 'checked' : ''} onchange="toggleTodo('${t.id}')"><div style="${t.done? 'text-decoration:line-through;color:var(--muted)' : ''}">${escapeHtml(t.text)}</div></div><div class="flex"><button class="btn" onclick="editTodo('${t.id}')">Edit</button><button class="btn danger" onclick="delTodo('${t.id}')">Delete</button></div>`;
    ul.appendChild(li);
  });
}

renderBMs();
renderNotes();
renderTodos();
renderStats();

</script>
</body>
</html>